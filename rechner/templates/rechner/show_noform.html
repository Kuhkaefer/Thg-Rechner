{% extends 'rechner/base.html' %}

{% block title %}
{{ page_name }}
{% endblock %}

{% block header %} 
    {{ page_header }}
{% endblock %}

{% block description %}
    {{page_description}}
{% endblock %}

{% block content %}

    <style>
        p {
            color: orange;
        }
        .hide {
            display: none;
        }
        .myDIV:hover + .hide {
            display: block;
            color: red;
        }
    </style>

    <form action="" method="post"> {% csrf_token %}
        <table style="width:50%">
            {% for q,d,first,last in q_v_f_and_l %}
            
<!--          Show category -->
                {% if first %}
                    <tr>  <th> <br> {{q.category}}  </th> </tr>
                {% endif %}
                
<!--          List questions -->
                <tr>
                    <td>Question {{forloop.counter}}: {{q.question_text }}</td>
                    <td> 
                        <input id="id_subject" type="text" name={{q.id}} maxlength="100" required value={{d}}> 
                    </td>
                    <td>
                            <button type='submit' name="enter" value=1 hidden="hidden">-</button>
                            <button type='submit' name="remove_field" value={{q.id}}>-</button>
                    </td>
                    <td>
                    
                            <div class = "myDIV"> ? </div>
                            <div class = "hide"> BUH! </div>
                    </td>
                </tr>
                
                
<!--                <tr> <td>for so probieren</td></tr>
                {% for new_qd in new_q_d_listlist %}
                <tr> <td>{{new_qd.0}}</td></tr>
                {% empty %}
                <tr> <td>for so empty</td></tr>
                
                {% endfor %}
                    -->
                
                
<!--          Show added questions -->
<!--                {% if last %}
                    {% for new_qd in new_q_d_list%}
                        {% if new_qd.0.category == q.category %}
                            <tr>
                                <td>Question: {{new_qd.0.question_text }}</td>
                                <td> <input id="id_subject" type="text" name={{new_qd.0.id}} maxlength="100" required value={{new_qd.1}}> </td>
                            </tr>
                        {% endif %}
                    {% empty %}                    
                    {% endfor %}
                    <tr> <td>---</td> </tr>-->
                    
<!--              Option to add question -->
                    <tr> 
                        <td> Posten hinzuf√ºgen: </td>
                        <td>
<!--                             <form action="" method="post"> {% csrf_token %} -->
                                <select name="new_field">
                                    <option value="-1"> Choose... </option>
                                    {% for add_q in missing_qs %}
                                        {% if add_q.category == q.category %}
                                            <option value={{add_q.id}} > {{ add_q.name }} </option> 
                                        {% endif %}
                                    {% endfor %}
                                </select>
                                <input type='submit' name="add_field" value="+" >
<!--                             </form> -->
                        </td>
                    </tr>
                    
                {% endif %}
                
            {% endfor %}
            <tr><td><br></td></tr>
            
<!--      Option to add question of new category -->
            <tr> 
                <td> Posten neuer Kategorie: </td>
                <td> 
                    <select name="new_cat">
                        <option value="-1"> Choose... </option>
                        {% for mc in missing_cats %}
                            <option value={{mc.id}} > {{ mc.name }} </option> 
                        {% endfor %}    
                        <input type='submit' name="add_cat" value="+" >
                    </select>
                </td>
            {% if cat_added != None %}
                <tr> 
                    <td>Neue Frage:</td>
                    <td>
                        <select name="new_field">
                            <option value="-1"> Choose... </option>
                            {% for mc in new_c_q_list %}
                                <option value={{mc.id}} > {{ mc.name }} </option> 
                            {% endfor %}    
                            <input type='submit' name="add_field" value="+" >
                        </select>
                    </td>
                </tr>
            {% endif %}
            </tr>
        </table>
        <br>
        
<!--  Submit buttons -->
        <table>
            <tr>
                <td> <input type="submit" name="submit form" value="Submit"> </td>
                <td> <input type="submit" name="reset" value="Reset"> </td>
                <td> <input type='button'  name="back" value="Back" onclick="location.href='{{button_link}}'"> </td>
            </tr>
        </table>
    </form>
    
    <p> Random Text Skraa sagt der Rabe. Lel </p>
 
{% endblock %}

